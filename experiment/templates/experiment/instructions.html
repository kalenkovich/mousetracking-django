{% extends 'experiment/__layout_single_column_with_continue.html' %}
{% load static %}

{% block single_column %}

    <h1>
        Инструкция
    </h1>

    <p>
{#        The task will always start when you press the "Start" button in the bottom of the screen.#}
        Для начала эксперимента Вам будет нужно нажать на кнопку СТАРТ на экране.
{#        After you do, we will show you a frame with 2-4 images like the one below.#}
        После этого на экране появится картинка, подобная следующей:
    </p>

    <div class="row justify-content-sm-center">
        <div class="col-lg-6 col-md-8 col-sm-10">
            <img src="{% static "experiment/sample_frame_empty-cheese-globe-muffin.jpg" %}"
{#                 alt="Could not load the image. Please contact the experimenter."#}
                 alt="Не получилось загрузить картинку. Свяжитесь, пожалуйста, с экспериментатором."
                 width="100%"
                 style="margin-bottom:2vh;"
            />
        </div>
    </div>

    <p>
{#        You will need to memorize the objects in it.#}
{#        A question will then start playing in your headphones (please use headphones during the experiment).#}
{#        Please play a sample question below to familiarize yourself with the type of questions you will hear.#}
        Ваша задача – запомнить предметы, размещенные в предоставленной решетке.
        Через несколько секунд картинка исчезнет, и Вы услышите вопрос, как например вот этот:
    </p>

    <audio id = "sample-audio" src="{% static "experiment/audio/ogg/in-this-picture_right_negative.ogg" %}"></audio>
    <div class="row justify-content-center">
        <div class="col-2">
            <img class="img-thumbnail" id="sample-audio-controls" src="{% static "experiment/play_icon.png" %}"
                 height="5vh";
                 style="margin-bottom:2vh;height:10vh;"/>
        </div>
    </div>


    <script>
        const sampleAudio=document.getElementById("sample-audio");
        const sampleAudioControls = document.getElementById("sample-audio-controls");

        function play() {
            sampleAudio.play();
            sampleAudioControls.src = "{% static "experiment/pause_icon.png" %}"
        }

        function pause() {
            sampleAudio.pause();
            sampleAudioControls.src = "{% static "experiment/play_icon.png" %}";
        }

        function togglePlayPause() {
            sampleAudio.paused ? play() : pause()
        }

        sampleAudioControls.addEventListener('click', togglePlayPause);
        sampleAudio.addEventListener('ended', pause);
    </script>

    <p class = "text-center font-italic">
{#        This is also a good time to adjust the volume to a comfortable level.#}
        (Помните, что Вы должны использовать наушники на протяжении всего эксперимента!
        Обратите внимание на громкость звука и настройте её на комфортный Вам уровень.
        Для этого Вы можете проиграть вопрос несколько раз.)
    </p>

    <p>
{#        While the question is playing, two images from the frame will appear in the top corners of the screen.#}
{#        Only one of the images constitutes a correct answer to the question you just heard.#}
{#        Click the correct one using your mouse (no touchpad!).#}
{#        Below is an example of two such images.#}
        Во время вопроса, в верхних углах рана появятся два предмета из представленной до этого решетки.
        <span class="font-weight-bold">
            Один из этих предметов представляет собой правильный ответ на услышанный вопрос.
            Выберите его с помощью мышки.
        </span>
    </p>

    <div class="row justify-content-between align-items-center">
        <div class="col-lg-3 col-md-4 col-5">
            <img src="{% static "experiment/objects/globe.png" %}"
                  height="20vh;" style="margin-bottom:2vh;height:24vh;"/>
        </div>
        <div class="col-lg-3 col-md-4 col-5">
            <img src="{% static "experiment/objects/cheese.png" %}"
                 height="20vh;" style="margin-bottom:2vh;height:20vh;"/>
        </div>
    </div>

    <p>
{#        The question audio also contains a series of beeps (play the sample question again to hear them).#}
{#        You will need to try to select an answer before the last one of the beeps.#}
{#        The beep series will always have the same duration.#}
        Вместе с вопросом Вы услышите серию сигналов (проиграйте вопрос еще раз, чтобы их услышать; длина серии всегда
        одинаковая).
        Вы должны успеть <span class="font-weight-bold">сделать выбор до окончания серии сигналов.</span>
    </p>

    <p>
{#        The task will be repeated multiple times separated into 9 blocks.#}
{#        Feel free to take a break between the block.#}
{#        We ask you, however, to try to avoid taking breaks within blocks.#}
        Эксперимент состоит из 9ти блоков, между которыми Вы можете взять паузу для отдыха.
        Каждый блок содержит 32 набора из картинок и вопросов.
        Пожалуйста, постарайтесь пройти каждый блок без перерывов.
    </p>

    <p>
{#        The experiment must be run in the fullscreen mode.#}
{#        At the beginning of each block, you will see a pop-up with a button that will turn the fullscreen mode on.#}
{#        To exit the fullscreen mode press the "Esc" button.#}
        Эксперимент необходимо проходить в режиме полного экрана.
        В начале каждого блока выберите «Перейти в режим полного экрана».
        Для выхода их режима полного экрана нажмите кнопу Escape или F11 на клавиатуре.
    </p>

    <p>
{#        Finally, please turn off your phone and notifications on your computer for the duration of the experiment.#}
{#        In case you have any questions (now, or during the experiment) feel free to contact the experimenter.#}
        Пожалуйста, выключите Ваш мобильный телефон и уведомления на компьютере на время эксперимента.
        Если у Вас возникнут какие-то вопросы (сейчас или во время эксперимента), вы можете в любой момент связаться с
        экспериментатором.
    </p>

    <p>
{#        Before continuing on to the task itself, we'll go through a couple of practice rounds so that you can familiarize#}
{#        yourself with the procedure.#}
        Мы начнем с небольшой практики, которая ознакомит Вас с экспериментом.
    </p>

{% endblock %}

{% block continue_button %}
    <div>
        <form method="post">
            {% csrf_token %}
            <input type="hidden" name="just_saw" value="{{ stage }}">
            <button type="submit" class="btn btn-primary">
                Перейти к практике
            </button>
        </form>
    </div>
{% endblock %}
